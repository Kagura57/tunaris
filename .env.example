# API
PORT=3001
# Docker local PostgreSQL (docker compose service `postgres`)
DATABASE_URL=postgresql://kwizik:kwizik@localhost:5433/kwizik
REDIS_URL=redis://127.0.0.1:6380
BETTER_AUTH_SECRET=change-me-with-at-least-32-characters
BETTER_AUTH_URL=http://127.0.0.1:3001
# Optional comma-separated web origins allowed for Better Auth POST flows.
# Example: BETTER_AUTH_TRUSTED_ORIGINS=http://127.0.0.1:5173,https://app.kwizik.com
BETTER_AUTH_TRUSTED_ORIGINS=
# Optional dedicated encryption key for stored OAuth provider tokens.
# Falls back to BETTER_AUTH_SECRET when omitted.
MUSIC_TOKEN_ENCRYPTION_KEY=
LOG_LEVEL=info

# Music providers
SPOTIFY_ACCESS_TOKEN=
SPOTIFY_CLIENT_ID=
SPOTIFY_CLIENT_SECRET=
SPOTIFY_OAUTH_REDIRECT_URI=
# Spotify API mode:
# - development (default): compatible with Spotify dev-mode restrictions (search max 10)
# - extended: for approved extended quota apps
SPOTIFY_API_MODE=development
# Enable Spotify browse endpoints (categories/featured/category playlists). Recommended only with extended quota.
SPOTIFY_BROWSE_ENABLED=false
SPOTIFY_POPULAR_PLAYLIST_IDS=37i9dQZEVXbMDoHDwVN2tF
DEEZER_ENABLED=true
DEEZER_APP_ID=
DEEZER_APP_SECRET=
DEEZER_OAUTH_REDIRECT_URI=
APPLE_MUSIC_DEVELOPER_TOKEN=
APPLE_MUSIC_STOREFRONT=us
TIDAL_API_TOKEN=
TIDAL_SEARCH_URL=
YOUTUBE_API_KEY=
# Optional comma-separated API keys for automatic rotation on failures/quota
# Example: YOUTUBE_API_KEYS=key1,key2,key3
YOUTUBE_API_KEYS=
# Optional comma-separated Invidious instances used as no-key fallback for YouTube search
# Example: YOUTUBE_INVIDIOUS_INSTANCES=https://yewtu.be,https://inv.nadeko.net
YOUTUBE_INVIDIOUS_INSTANCES=
ANILIST_CLIENT_ID=
ANILIST_CLIENT_SECRET=
ANILIST_REDIRECT_URI=http://127.0.0.1:3001/account/anilist/connect/callback
ANILIST_ACCESS_TOKEN=
# AnimeThemes catalog refresh tuning
# Number of AnimeThemes pages to mirror on each refresh (100 anime/page).
ANIMETHEMES_REFRESH_MAX_PAGES=40
# Delay between refresh runs in milliseconds (default: 86400000 = 24h).
ANIMETHEMES_REFRESH_INTERVAL_MS=86400000

# Railway
RAILWAY_TOKEN=
